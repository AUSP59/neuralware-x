[Unit]
Description=NEURALWARE-X Prediction Server
After=network.target

[Service]
ExecStart=/usr/local/bin/nwx_serve /opt/nwx/model.bundle 8080 --token ${NWX_TOKEN} --max_concurrency 128 --rate 100 --burst 200
Environment=NWX_LOG_JSON=1
Restart=on-failure
User=nwx
Group=nwx
AmbientCapabilities=CAP_NET_BIND_SERVICE
NoNewPrivileges=true
ProtectSystem=full
PrivateTmp=true

[Install]
WantedBy=multi-user.target
